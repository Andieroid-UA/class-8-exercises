<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Bar</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
        body, .jumbotron { padding-top: 30px; }
        body {
            background: white;
        }
        .content {
            background: white;
            padding: 50px;
            font-size: 19px;
            line-height: 1.5;
            min-height: 3000px;
        }
        .scroll-line {
            position: fixed;
            top: 0; 
            left: 0;
            height: 8px;
            background: blue;
            transition: 0.5s cubic-bezier(0.075, 0.82, 0.165, 1) width;
        }
    </style>
</head>
<body>
    <div class="scroll-line"></div>
    <div class="container">
    <div class="content">
        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.
        
        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.

        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.
        
        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.

        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.
        
        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.

        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.
        
        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        Lorem ipsum dolor sit amet. Est officiis unde ea expedita assumenda et odit atque et sunt voluptate et omnis iure ut voluptatem rerum vel assumenda veniam. Non repellat temporibus sit dicta esse qui debitis laudantium non perspiciatis vero ea enim obcaecati qui ratione consequuntur.

        Et voluptas ullam est autem neque sit maxime asperiores et omnis nihil sed debitis consequatur non consequatur sunt aut laboriosam iste! Eum laborum sint qui magni quis sit placeat ipsum.

        Aut omnis voluptatem est voluptate dolorum ut reiciendis quod. Et optio ipsa At quae Quis 33 repudiandae recusandae ab quae voluptates ut omnis voluptatem id repudiandae vitae et nihil quidem. Ab distinctio voluptatem hic officiis sunt eum quis iusto sed commodi similique. Qui molestiae enim aut temporibus veniam in ullam itaque ea corporis veritatis in consequatur magni.

        </div>
    </div>

    <script>
        const scrollLine = document.querySelector('.scroll-line');

       function fillScrollLine() {
        const windowHeight  = window.innerHeight;
        const fullHeight    = document.body.clientHeight;
        const scrolled      = window.scrollY;

        const percentScrolled = (scrolled / (fullHeight - windowHeight)) * 100;

        //Other variations:
        //console.log(percentScrolled);
        //scrollLine.style.width = percentScrolled + '%';
        scrollLine.style.width = `${percentScrolled}%`;

       }

       window.addEventListener('scroll', fillScrollLine);
       window.addEventListener('scroll', debounce(function() {
        console.count('hello!');
       }, 20));

       function debounce(func, wait = 15, immediate) {
        var timeout;
        return function() {
            var context = this, args = arguments;
            var later = function() {
            timeout = null;
            if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
            };
        }
    </script>
</body>
</html>